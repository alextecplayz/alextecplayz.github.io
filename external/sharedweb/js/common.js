function hasFeature(featureName) {const metaTag = document.querySelector(`meta[name="feature-${featureName}"]`);return metaTag && metaTag.content === "true";}var currentDate = new Date(); var bannerContainer = document.getElementById('bannerContainer');function lazyLoadImages() {const images = document.querySelectorAll('img[data-src]'); const observer = new IntersectionObserver((entries, observer) => {entries.forEach(entry => {if (entry.isIntersecting) {const image = entry.target; image.src = image.getAttribute('data-src'); observer.disconnect();}});});images.forEach(image => {observer.observe(image);});}document.addEventListener('DOMContentLoaded', () => {lazyLoadImages();});

if (hasFeature("stickyheader")) {document.addEventListener('DOMContentLoaded', function() {var headerLogo = document.getElementById('logo');var isScrollingDown = false;var logoStickyPosition = { top: 1.5 * 16, left: 4.5 * 16 };var scrollThreshold = headerLogo.offsetTop - logoStickyPosition.top;var isLogoSticky = false;var isInitialScroll = true;function handleScroll() {var scrollY = window.pageYOffset || document.documentElement.scrollTop;var currentScrollDown = scrollY > scrollThreshold;if (currentScrollDown !== isScrollingDown) {isScrollingDown = currentScrollDown;if (isScrollingDown) {headerLogo.classList.add('logo-sticky');isLogoSticky = true;} else {headerLogo.classList.remove('logo-sticky');isLogoSticky = false;}if (isScrollingDown) {headerLogo.style.transition = 'transform 0.15s ease-in-out';headerLogo.style.transform = 'translate(-95%, 0%)';} else {headerLogo.style.transition = 'transform 0.15s ease-in-out';headerLogo.style.transform = 'translate(0, 0)';}}if (!isScrollingDown && !isLogoSticky) {headerLogo.style.border = 'none';} else {headerLogo.style.border = '0.25rem solid var(--white)';}}function setInitialBorderWidths() {headerLogo.style.borderTopWidth = headerLogo.offsetHeight + 'px';headerLogo.style.borderRightWidth = headerLogo.offsetWidth + 'px';headerLogo.style.borderBottomWidth = headerLogo.offsetHeight + 'px';headerLogo.style.borderLeftWidth = headerLogo.offsetWidth + 'px';}window.addEventListener('load', function() {headerLogo.style.display = 'block';setInitialBorderWidths();isInitialScroll = false;});window.addEventListener('scroll', handleScroll);});};

if (hasFeature("langswitcher")) {function langDropdownBtn() {var dropdownMenu = document.getElementById('languageDropdownMenu');dropdownMenu.classList.toggle('flex');}document.addEventListener('click', function(event) {var dropdownButton = document.getElementById('languageDropdownButton');var dropdownMenu = document.getElementById('languageDropdownMenu');if (!dropdownButton.contains(event.target)) {dropdownMenu.classList.remove('show');}});document.querySelectorAll('#languageDropdownMenu .dropdown-item').forEach(item => {item.addEventListener('click', event => {event.preventDefault();var lang = event.target.getAttribute('data-lang');var currentUrl = window.location.href;var newUrl = currentUrl.replace(/\/[a-z]{2}\//, '/' + lang + '/');window.location.href = newUrl;});});};

if (hasFeature("sitesettings")) {const settingsButton = document.getElementById('settings-modal-opener'); const settingsWindow = document.getElementById('settings-window'); const settingsWindowClose = document.getElementById('settings-close-button'); function showSettingsWindow() {settingsWindow.style.display = 'flex';} function hideSettingsWindow() {settingsWindow.style.display = 'none';} settingsButton.addEventListener('click', showSettingsWindow); settingsWindowClose.addEventListener('click', hideSettingsWindow);}

if (hasFeature("theming")) {const themeSelect = document.getElementById('setting_theme'); const useLocalStorageCheckbox = document.querySelector('.checkbox-container input'); function saveSettings() {const useLocalStorage = useLocalStorageCheckbox.checked;const theme = themeSelect.value; if (useLocalStorage) {localStorage.setItem('theme', theme); localStorage.setItem('useLocalStorage', 'true');} else {sessionStorage.setItem('theme', theme); sessionStorage.setItem('useLocalStorage', 'false'); localStorage.removeItem('theme'); localStorage.removeItem('useLocalStorage');} const iframe = document.getElementById('comments-iframe'); if (iframe) {iframe.contentWindow.postMessage({ type: 'set-theme', theme: theme }, '*');}} function loadSettings() {const useLocalStorage = localStorage.getItem('useLocalStorage') === 'true' || sessionStorage.getItem('useLocalStorage') === 'true'; const theme = localStorage.getItem('theme') || sessionStorage.getItem('theme'); if (useLocalStorage) {useLocalStorageCheckbox.checked = true;} else {useLocalStorageCheckbox.checked = false;} if (theme) {themeSelect.value = theme; updateTheme(theme);}} themeSelect.value = 'theme_dark'; loadSettings(); function updateTheme(theme) {const root = document.documentElement; switch (theme) {
    case 'theme_obsidiangray': root.style.setProperty('--black', '#000000'); root.style.setProperty('--darkgray', '#3a3a3a'); root.style.setProperty('--lightgray', '#c5c5c5'); root.style.setProperty('--white', '#ffffff'); root.style.setProperty('--brand', '#a0a0a0'); root.style.setProperty('--magenta', '#fcb5ff'); root.style.setProperty('--vantagray', '#242424'); root.style.setProperty('--warning', '#f8ff9c'); root.style.setProperty('--danger', '#ed333b'); root.style.setProperty('--caution', '#ff7800'); root.style.setProperty('--accent-color', '#dd8ac8'); root.style.setProperty('--pass', '#41a82c'); break; 
    case 'theme_calcitewhite': root.style.setProperty('--black', '#ffffff'); root.style.setProperty('--darkgray', '#c5c5c5'); root.style.setProperty('--lightgray', '#3a3a3a'); root.style.setProperty('--white', '#000000'); root.style.setProperty('--brand', '#a0a0a0'); root.style.setProperty('--magenta', '#99099e'); root.style.setProperty('--vantagray', '#D4D4D4'); root.style.setProperty('--warning', '#f8ff9c'); root.style.setProperty('--danger', '#ed333b'); root.style.setProperty('--caution', '#ff7800'); root.style.setProperty('--accent-color', '#cc4fad'); root.style.setProperty('--pass', '#41a82c'); break; 
    case 'theme_amoledblack': root.style.setProperty('--black', '#000000'); root.style.setProperty('--darkgray', '#3a3a3a'); root.style.setProperty('--lightgray', '#c5c5c5'); root.style.setProperty('--white', '#ffffff'); root.style.setProperty('--brand', '#a0a0a0'); root.style.setProperty('--magenta', '#fcb5ff'); root.style.setProperty('--vantagray', '#000000'); root.style.setProperty('--warning', '#f8ff9c'); root.style.setProperty('--danger', '#ed333b'); root.style.setProperty('--caution', '#ff7800'); root.style.setProperty('--accent-color', '#dd8ac8'); root.style.setProperty('--pass', '#41a82c'); break; 
    case 'theme_catlatte': root.style.setProperty('--black', '#dce0e8'); root.style.setProperty('--darkgray', '#eff1f5'); root.style.setProperty('--lightgray', '#5c5f77'); root.style.setProperty('--white', '#4c4f69'); root.style.setProperty('--brand', '#a0a0a0'); root.style.setProperty('--magenta', '#ea76cb'); root.style.setProperty('--vantagray', '#dce0e8'); root.style.setProperty('--warning', '#D1C252'); root.style.setProperty('--danger', '#D15254'); root.style.setProperty('--caution', '#D18052'); root.style.setProperty('--accent-color', '#ea76cb'); root.style.setProperty('--pass', '#78D152'); break; 
    case 'theme_catfrappe': root.style.setProperty('--black', '#232634'); root.style.setProperty('--darkgray', '#303446'); root.style.setProperty('--lightgray', '#b5bfe2'); root.style.setProperty('--white', '#c6d0f5'); root.style.setProperty('--brand', '#a0a0a0'); root.style.setProperty('--magenta', '#f4b8e4'); root.style.setProperty('--vantagray', '#232634'); root.style.setProperty('--warning', '#E0AF46'); root.style.setProperty('--danger', '#BF6D6D'); root.style.setProperty('--caution', '#E87F2A'); root.style.setProperty('--accent-color', '#f4b8e4'); root.style.setProperty('--pass', '#81B07D'); break; 
    case 'theme_catmacchi': root.style.setProperty('--black', '#181926'); root.style.setProperty('--darkgray', '#24273a'); root.style.setProperty('--lightgray', '#b8c0e0'); root.style.setProperty('--white', '#cad3f5'); root.style.setProperty('--brand', '#a0a0a0'); root.style.setProperty('--magenta', '#f5bde6'); root.style.setProperty('--vantagray', '#181926'); root.style.setProperty('--warning', '#E0AF46'); root.style.setProperty('--danger', '#BF6D6D'); root.style.setProperty('--caution', '#E87F2A'); root.style.setProperty('--accent-color', '#f5bde6'); root.style.setProperty('--pass', '#81B07D'); break; 
    case 'theme_catmocha': root.style.setProperty('--black', '#11111b'); root.style.setProperty('--darkgray', '#1e1e2e'); root.style.setProperty('--lightgray', '#bac2de'); root.style.setProperty('--white', '#cdd6f4'); root.style.setProperty('--brand', '#a0a0a0'); root.style.setProperty('--magenta', '#f5c2e7'); root.style.setProperty('--vantagray', '#11111b'); root.style.setProperty('--warning', '#E0AF46'); root.style.setProperty('--danger', '#BF6D6D'); root.style.setProperty('--caution', '#E87F2A'); root.style.setProperty('--accent-color', '#f5c2e7'); root.style.setProperty('--pass', '#81B07D'); break; 
}} themeSelect.addEventListener('change', () => {const theme = themeSelect.value; updateTheme(theme); saveSettings();}); useLocalStorageCheckbox.addEventListener('change', saveSettings); document.addEventListener('DOMContentLoaded', () => {loadSettings(); const theme = themeSelect.value; updateTheme(theme);});};

if (hasFeature("sidebar")) {function sidebarProjectDropdownBtn() {var projectDropdownMenu = document.getElementById('projectDropdownMenu');projectDropdownMenu.classList.toggle('flex');};document.addEventListener('click', function(event) {var projectDropdownButton = document.getElementById('projectDropdownButton');var projectDropdownMenu = document.getElementById('projectDropdownMenu');if (!projectDropdownButton.contains(event.target)) {projectDropdownMenu.classList.remove('show');}});
document.querySelectorAll('#projectDropdownMenu .sidebar-dropdown-item').forEach(item => {item.addEventListener('click', event => {event.preventDefault();var project = event.target.getAttribute('data-project');var currentUrl = window.location.href;var langRegex = /\/[a-z]{2}\//;var langMatch = currentUrl.match(langRegex);var lang = langMatch ? langMatch[0].replace(/\//g, '') : '';var baseUrl = currentUrl.replace(langRegex, '/' + lang + '/');var newUrl = siteBaseUrl + (lang ? lang + '/' : '') + project + '/';window.location.href = newUrl;});});
function adjustContentWidth() {var sidebar = document.getElementById('sidebar');var docColumnRight = document.querySelector('.doc-column-right');if (sidebar.classList.contains('sidebar-collapsed')) {docColumnRight.style.paddingLeft = '0';} else {var sidebarWidth = sidebar.offsetWidth;docColumnRight.style.paddingLeft = sidebarWidth + 'px';}} function sidebarCollapseButton() {var sidebar = document.getElementById('sidebar');var sidebarBrand = document.getElementById('sidebar-branding');var sidebarBrandlogo = document.getElementById('branding-logo');var sidebarBrandname = document.getElementById('branding-name');var sidebarContent = document.getElementById('sidebar-content');var sidebarCollapseButton = document.getElementById('sidebarCollapseButton');sidebar.classList.toggle('sidebar-collapsed');sidebarContent.classList.toggle('hidden');sidebarBrand.classList.toggle('flex');sidebarBrandlogo.classList.toggle('hidden');sidebarBrandname.classList.toggle('hidden');setTimeout(function() {adjustContentWidth();}, 300);};window.onload = function() {adjustContentWidth();};window.onresize = function() {adjustContentWidth();};};

if (hasFeature("hamburgermenu")) {document.addEventListener('DOMContentLoaded', function() {document.getElementById('hamburgerMenu').addEventListener('click', function() {document.getElementById('headerMenu').classList.toggle('open');});document.addEventListener('click', function(event) {const menu = document.getElementById('headerMenu');const hamburgerMenu = document.getElementById('hamburgerMenu');if (!menu.contains(event.target) && !hamburgerMenu.contains(event.target)) {menu.classList.add('close');setTimeout(function() {menu.classList.remove('open', 'close');}, 300);}});});};

if (hasFeature("videoplayer")) {document.addEventListener('DOMContentLoaded', function() {var video = document.getElementById('landing-video'); var button = document.getElementById('video-control-btn'); if (video.paused) {button.textContent = '⏵';} else {button.textContent = '⏸';} button.addEventListener('click', function() {if (video.paused) {video.play();button.textContent = '⏸';} else {video.pause();button.textContent = '⏵';}});});};

if (hasFeature("progress")) {window.addEventListener("load", function() {var progressBars = document.querySelectorAll(".progress-bar");progressBars.forEach(function(progressBar) {var desiredPercentage = progressBar.dataset.progress;progressBar.style.width = desiredPercentage + "%";});});};

if (hasFeature("stickypostheader")) {document.addEventListener('DOMContentLoaded', function() {var postHeader = document.getElementById('post-header');var isScrollingDown = false;var headerStickyPosition = { top: 1.5 * 16, };var scrollThreshold = postHeader.offsetTop - headerStickyPosition.top;var isHeaderSticky = false;var isInitialScroll = true;function handleScroll() {var scrollY = window.pageYOffset || document.documentElement.scrollTop;var currentScrollDown = scrollY > scrollThreshold;if (currentScrollDown !== isScrollingDown) {isScrollingDown = currentScrollDown;if (isScrollingDown) {postHeader.classList.add('post-header-sticky');isPostHeaderSticky = true;} else {postHeader.classList.remove('post-header-sticky');isPostHeaderSticky = false;}if (isScrollingDown) {postHeader.style.transition = 'transform 0.15s ease-in-out';postHeader.style.transform = 'translate(0, 0%)';} else {postHeader.style.transition = 'transform 0.15s ease-in-out';postHeader.style.transform = 'translate(0, 0)';}}if (!isScrollingDown && !isHeaderSticky) {postHeader.style.border = 'none';} else {postHeader.style.border = '0.15rem solid var(--white)';}}function setInitialBorderWidths() {postHeader.style.borderTopWidth = postHeader.offsetHeight + 'px';postHeader.style.borderRightWidth = postHeader.offsetWidth + 'px';postHeader.style.borderBottomWidth = postHeader.offsetHeight + 'px';postHeader.style.borderLeftWidth = postHeader.offsetWidth + 'px';}window.addEventListener('load', function() {postHeader.style.display = 'block';setInitialBorderWidths();isInitialScroll = false;});window.addEventListener('scroll', handleScroll);});};

if (hasFeature("nofooter")) {document.addEventListener('DOMContentLoaded', function() {footer = document.getElementById('footer'); footer.style.display = 'none';})}